# Traffic Density Estimation Using OpenCV "2:53 OP", 328 X 778

## Part 1 : Camera Angle Correction and cropping


### Installation and Building (for Ubuntu)

``` bash
$ sudo apt install libboost-program-options-dev
$ make
```  

### Executing 
``` bash
$ ./main.out -f empty.jpg  
```  

### Clean Workspace
``` bash
$ make clean
```

<br/>

### Allowed options:
>| Flag      | Usage           |
>| ------------- |:-------------:|
>| -h, --help                     | produce help message |
>| -f, --filename < filepath >    | image filename      |
>| -c, --custom                   | enter custom destination points     | 
<br/>


### User Interface : 

- Run the executable generated by g++ as with required options as above.
    - If custom flag is given then user is prompted to enter the 4 points' coordinates one by one in space separated form.
    -  In the filename flag, if the image is not in the same directory then provide the path of image.
- A window opens containing the image in grayscale.
  - Select 4 points in succession on the image using the mouse which will serve as the source coordinates for the transform.
- A new window opens with the transformed image, with the outline of the rectangle to be cropped. 
  - The transformed image is obtained by applying a homographic transform of the source points onto the destination points and then selecting the smallest rectangle that contains a part of the actual image.
  - Press Enter to conform the selection, and Esc. to cancel and exit.
- On conformation, another window opens containing the cropped image. 
- Both the transformed image and the cropped final image are saved in the source directory.